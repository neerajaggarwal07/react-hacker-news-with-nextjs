{"version":3,"file":"static/webpack/static/development/pages/index.js.23620cea6220703f307a.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import fetch from \"isomorphic-fetch\";\nimport { ThemeProvider } from \"styled-components\";\nimport theme from \"../styles/themes/Default/index\";\nimport GlobalStyle from \"../styles/GlobalStyles\";\nimport NewsFeedsList from \"../components/organisms/NewsFeeds/NewsFeedsList\";\nimport Header from \"../components/molecules/Header/Header\";\nimport Footer from \"../components/molecules/Footer/Footer\";\n\nimport Error from \"next/error\";\nclass Index extends React.Component {\n  constructor(props) {\n    super(props);\n    this.theme = theme;\n  }\n  static async getInitialProps({ req, res, query }) {\n    let news;\n    let page;\n\n    try {\n      page = Number(query.page) || 1;\n      const response = await fetch(\n        `https://node-hnapi.herokuapp.com/news?page=${page}`\n      );\n      news = await response.json();\n      console.log(news);\n    } catch (err) {\n      console.log(err);\n      news = [];\n    }\n\n    return { news, page };\n  }\n\n  render() {\n    const { news, page } = this.props;\n    return (\n      <ThemeProvider theme={this.theme}>\n        <GlobalStyle />\n        <Header\n          title=\"Hacker News\"\n          description=\"A Hacker News clone made with Next.js\"\n        ></Header>\n        {news.length ? (\n          <NewsFeedsList itemsList={news} />\n        ) : (\n          <Error statusCode={503} />\n        )}\n\n        <Footer page={page}></Footer>\n      </ThemeProvider>\n    );\n  }\n}\n\nexport default Index;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAGA;AACA;;;AAmBA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;;;;;;AArCA;;AAKA;;AACA;AACA;;AADA;;AAGA;AACA;;AADA;AACA;;;;;;;AAEA;AACA;AACA;;AAEA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;AAtBA;AACA;AA4CA;;;;A","sourceRoot":""}