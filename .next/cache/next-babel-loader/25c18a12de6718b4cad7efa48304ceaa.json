{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/neeaggar/Official/learning/rnd/reactjs/react-hacker-news-with-nextjs/pages/newsfeed.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nvar NewsFeed = /*#__PURE__*/function (_React$Component) {\n  _inherits(NewsFeed, _React$Component);\n\n  function NewsFeed() {\n    _classCallCheck(this, NewsFeed);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(NewsFeed).apply(this, arguments));\n  }\n\n  _createClass(NewsFeed, [{\n    key: \"render\",\n    value: function render() {\n      var newsFeed = this.props.newsFeed;\n      return __jsx(\"main\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, newsFeed.comments.length > 0 ? newsFeed.comments : __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, \"No comments for this story\"));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function getInitialProps(_ref) {\n      var req, res, query, newsFeed, newsId, response;\n      return _regeneratorRuntime.async(function getInitialProps$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              req = _ref.req, res = _ref.res, query = _ref.query;\n              _context.prev = 1;\n              newsId = query.id;\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(fetch(\"https://node-hnapi.herokuapp.com/item/\".concat(newsId)));\n\n            case 5:\n              response = _context.sent;\n              _context.next = 8;\n              return _regeneratorRuntime.awrap(response.json());\n\n            case 8:\n              newsFeed = _context.sent;\n              _context.next = 15;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n              newsFeed = null;\n\n            case 15:\n              return _context.abrupt(\"return\", {\n                newsFeed: newsFeed\n              });\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[1, 11]], Promise);\n    }\n  }]);\n\n  return NewsFeed;\n}(React.Component);\n\nexport { NewsFeed as default };","map":{"version":3,"sources":["/Users/neeaggar/Official/learning/rnd/reactjs/react-hacker-news-with-nextjs/pages/newsfeed.js"],"names":["NewsFeed","newsFeed","props","comments","length","req","res","query","newsId","id","fetch","response","json","console","log","React","Component"],"mappings":";;;;;;;;;;IAEqBA,Q;;;;;;;;;;;6BAsBT;AAAA,UACIC,QADJ,GACiB,KAAKC,KADtB,CACID,QADJ;AAEJ,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKA,QAAQ,CAACE,QAAT,CAAkBC,MAAlB,GAA2B,CAA3B,GACAH,QAAQ,CAACE,QADT,GAGD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAJJ,CADJ;AAWH;;;;;;;;;AAjC8BE,cAAAA,G,QAAAA,G,EAAKC,G,QAAAA,G,EAAKC,K,QAAAA,K;;AAK3BC,cAAAA,M,GAASD,KAAK,CAACE,E;;+CACEC,KAAK,iDACiBF,MADjB,E;;;AAAtBG,cAAAA,Q;;+CAIaA,QAAQ,CAACC,IAAT,E;;;AAAjBX,cAAAA,Q;;;;;;;AAGFY,cAAAA,OAAO,CAACC,GAAR;AACAb,cAAAA,QAAQ,GAAG,IAAX;;;+CAGG;AAACA,gBAAAA,QAAQ,EAARA;AAAD,e;;;;;;;;;;;;EAnBuBc,KAAK,CAACC,S;;SAAvBhB,Q","sourcesContent":["\n\nexport default class NewsFeed extends React.Component{\n\n    static async getInitialProps ({req, res, query}) {\n\n        let newsFeed;\n\n        try{\n            const newsId = query.id;\n            const response = await fetch(\n                `https://node-hnapi.herokuapp.com/item/${newsId}`\n              );\n\n              newsFeed = await response.json();\n\n        }catch(error){\n            console.log(error);\n            newsFeed = null;\n\n        }\n        return {newsFeed};\n    }\n\n    render(){\n        const { newsFeed } = this.props;\n        return (\n            <main>\n                {newsFeed.comments.length > 0 ? (\n                (newsFeed.comments)\n              ) : (\n                <div>No comments for this story</div>\n              )}\n            </main>\n\n            \n        )\n    }\n\n}"]},"metadata":{},"sourceType":"module"}